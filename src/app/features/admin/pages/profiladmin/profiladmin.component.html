<div class="admin-dashboard">

    <!-- ✅ SIDEBAR -->
    <div class="sidebar" [class.active]="showSidebarMobile || isDesktop">
      <div class="logo text-center mb-4">
        <img src="assets/images/LOGO_YAFI__2_-removebg-preview.png" alt="Logo" class="img-fluid" style="max-height: 50px;" />
      </div>

      <ul class="nav nav-pills flex-column">
        <li class="nav-item mb-2">
          <a class="nav-link" href="/admin/dashboard"><i class="bi bi-speedometer2 me-2"></i> Tableau de bord</a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link" href="/admin/agent"><i class="bi bi-person-badge me-2"></i> Gestion des agents</a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link " href="/admin/ticket"><i class="bi bi-journal-text me-2"></i> Tickets</a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link active" href="/admin/profil"><i class="bi bi-person-circle me-2"></i> Profil</a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link" href="/admin/password"><i class="bi bi-lock me-2"></i> Mot de passe</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="logout()"><i class="bi bi-box-arrow-right me-2"></i> Déconnexion</a>
        </li>
      </ul>
    </div>

    <!-- ✅ OVERLAY (petit écran uniquement) -->
    <div class="sidebar-overlay" [class.active]="showSidebarMobile" (click)="toggleSidebar()"></div>

    <!-- ✅ CONTENU PRINCIPAL -->
    <div class="main-content">
      <!-- ✅ NAVBAR HORIZONTALE -->
      <nav class="navbar navbar-light bg-light shadow-sm px-3 d-flex justify-content-between align-items-center">
        <button class="btn d-md-none" (click)="toggleSidebar()">
          <i class="bi bi-list fs-2 text-danger"></i>
        </button>
        <span class="navbar-text fw-bold text-uppercase mx-auto">Admin Yafi</span>
        <div class="d-none d-md-block" style="width: 40px;"></div>
      </nav>

      <!-- ✅ -----------------------------------------------------SECTION profil -->
      <div class="container py-4">

        <div class="row justify-content-center">
            <div class="col-md-8">
              <div class="card shadow-sm border-0 rounded-4 p-4">
                <div class="text-center">
                  <!-- <img src="https://i.pravatar.cc/150?img=3" class="rounded-circle mb-3" alt="Photo de profil" width="120" height="120">
                  <h4 class="fw-bold">Tchamagam glenn</h4>
                  <p class="text-muted">glennwouagam&#64;gmail.com</p> -->
                  <div class="profile-picture-wrapper">
                      <img
                        [src]="imagePreview || 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTnSA1zygA3rubv-VK0DrVcQ02Po79kJhXo_A&s'"
                        alt="Photo de profil"
                        class="profile-picture"
                      />


                      <!-- Icône de modification -->
                      <label for="fileInput" class="edit-icon">
                        <i class="bi bi-pencil-fill"></i>
                      </label>
                      <input type="file" id="fileInput" (change)="onFileSelected($event)" hidden />
                    </div>
                    <h4 class="fw-bold">{{ profile?.nom }}</h4>
                    <p class="text-muted">{{ profile?.email }}</p>


                </div>

                <hr>

                <div class="row mb-3">
                  <div class="col-sm-4 text-muted">Téléphone</div>
                  <div class="col-sm-8">{{ profile?.telephone }}</div>
                </div>


                <!-- <div class="text-center mt-4">
                  <button class="btn btn-outline-primary px-4">Modifier le profil</button>
                </div> -->
              </div>
            </div>
          </div>


          <!-- ---------------------------------------------FIN profil -->


      </div>
    </div>
  </div>
